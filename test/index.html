<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="title" content="MoviBall | Ø¨Ø« Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª ÙˆØ§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©">
    <meta name="description" content="Ù…Ø´Ø§Ù‡Ø¯Ø© Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ… Ø¨Ø« Ù…Ø¨Ø§Ø´Ø± Ø¨Ø¯ÙˆÙ† ØªÙ‚Ø·ÙŠØ¹ Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹ MoviBall. Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ù…Ø´Ø§Ù‡Ø¯Ø© Ù‚Ù†ÙˆØ§Øª beIN Sports Ùˆ SSC ÙˆØ§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ø§Ù„Ù…Ø´ÙØ±Ø© ÙˆØ§Ù„Ù…ÙØªÙˆØ­Ø© Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©.">
    <meta name="keywords" content="Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±, Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…, beIN Sports Ù…Ø¨Ø§Ø´Ø±, SSC Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±, Ù‚Ù†ÙˆØ§Øª Ø±ÙŠØ§Ø¶ÙŠØ©, Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª, Ù‚Ù†ÙˆØ§Øª Ù…Ø´ÙØ±Ø©, Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠ, Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ, Ø§Ù„Ø¨Ø« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±">
    <meta name="author" content="Bassam Samir">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="MoviBall | Ø¨Ø« Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª ÙˆØ§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©">
    <meta property="og:description" content="ØªØ§Ø¨Ø¹ Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª ÙˆØ§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ù„Ù‰ MoviBallØŒ Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ© ÙˆØ¨Ø¯ÙˆÙ† ØªÙ‚Ø·ÙŠØ¹.">
    <meta property="og:image" content="https://tv.moviball.com/Home/logo.png">
    <meta property="og:url" content="https://tv.moviball.com/Home/index.com">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="MoviBall | Ø¨Ø« Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª ÙˆØ§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©">
    <meta name="twitter:description" content="Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø¨Ø« Ù…Ø¨Ø§Ø´Ø± Ø¨Ø¯ÙˆÙ† ØªÙ‚Ø·ÙŠØ¹ Ø¹Ù„Ù‰ MoviBallØŒ Ù…Ø¹ ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…Ø³ØªÙ…Ø±Ø© Ù„Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©.">
    <meta name="twitter:image" content="https://tv.moviball.com/Home/logo.png">
    <title>MoviBall Connect</title>
    <link rel="stylesheet" href="user-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
	<script src="https://ssl.p.jwpcdn.com/player/v/8.26.0/jwplayer.js"></script>
    <script>
        jwplayer.key = 'XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';
    </script>
</head>
<body>
    <header>
        <div class="logo">
            <img src="logo.png" alt="MoviBall Logo">
        </div>
        <div class="header-right">
            <div class="social-icons">
                <a href="https://www.facebook.com/moviball"><i class="fab fa-facebook"></i></a>
                <a href="https://t.me/moviball"><i class="fab fa-telegram"></i></a>
                <a href="https://wa.me/201067690853"><i class="fab fa-whatsapp"></i></a>
            </div>
            <button id="theme-toggle"><i class="fas fa-moon"></i></button>
        </div>
    </header>

    <main>
        <!-- Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <div id="main-page">
            <!-- Ø§Ù„Ù…Ø´ØºÙ„ -->
            <div id="player-container">
			<div id="player"></div>
            </div>

            <!-- Ø²Ø± Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ù†ÙˆØ§Øª -->
            <button id="channels-toggle" class="channels-toggle">
                <i class="fas fa-tv"></i>
            </button>

            <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚Ù†ÙˆØ§Øª -->
            <div id="channels-sidebar">
                <div class="sidebar-header">
                    <span>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚Ù†ÙˆØ§Øª</span>
                    <button id="close-sidebar"><i class="fas fa-times"></i></button>
                </div>
                <div class="search-box">
                    <input type="text" id="search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù‚Ù†Ø§Ø©...">
                    <button id="clear-search"><i class="fas fa-times"></i></button>
                </div>
                <div id="channels-list">
                    <!-- Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙˆØ§Ù„Ù‚Ù†ÙˆØ§Øª Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù‡Ù†Ø§ Ø¹Ø¨Ø± JavaScript -->
                </div>
            </div>

            <!-- Ø²Ø± Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª -->
            <button id="matches-button" class="matches-button">
                <i class="fas fa-table"></i>
            </button>
        </div>
 <div id="online-users-icon" style="position: fixed; top: 50px; right: 60px; background: #28a745; color: white; padding: 10px; border-radius: 25px; font-weight: bold; font-family: Arial, sans-serif;">
    ðŸ‘¥ <span id="online-users-count">0</span>
  </div>
        <!-- Ø¯ÙŠØ§Ù„ÙˆØ¬ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª -->
        <div id="matches-dialog" class="dialog">
            <div class="dialog-content">
                <h2>Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</h2>
                <div id="matches-table">
                    <!-- Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù‡Ù†Ø§ Ø¹Ø¨Ø± JavaScript -->
                </div>
                <button id="close-matches-dialog" class="close-dialog"><i class="fas fa-times"></i></button>
            </div>
        </div>
    </main>

    <footer>
        <div class="news-ticker">
            <marquee id="news-ticker-content">
                <!-- Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù‡Ù†Ø§ Ø¹Ø¨Ø± JavaScript -->
            </marquee>
        </div>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
    <script src="firebase.js"></script>
    <script src="user-script.js"></script>
	<script type="module">
    import { getDatabase, ref, onValue, set, remove, onDisconnect, serverTimestamp } from "https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js";
    import { app } from 'firebase.js';

    const db = getDatabase(app);
    const userId = `user_${Math.random().toString(36).substring(2)}`;
    const userRef = ref(db, `activeUsers/${userId}`);

    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù†Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„
    set(userRef, { online: true, timestamp: serverTimestamp() });

    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø£Ùˆ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØµÙØ­Ø©
    onDisconnect(userRef).remove();
    window.addEventListener('beforeunload', () => remove(userRef));

    // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…Ø¨Ø§Ø´Ø±
    const activeUsersRef = ref(db, 'activeUsers');
    onValue(activeUsersRef, (snapshot) => {
      const count = snapshot.exists() ? Object.keys(snapshot.val()).length : 0;
      document.getElementById('online-users-count').innerText = count;
    });
  </script>
</body>
</html>